var n,e,t=false,o=0,a=0,i=0,c=0,s,f;function u(){g();n=document.getElementById("main_canvas");e=n.getContext("2d");canvasWidht=n.width;canvasHeight=n.height;n.addEventListener("mousemove",function(e){v("move",e)},false);n.addEventListener("mousedown",function(e){v("down",e)},false);n.addEventListener("mouseup",function(e){v("up",e)},false);n.addEventListener("mouseout",function(e){v("out",e)},false)}function d(){e.clearRect(0,0,canvasWidht,canvasHeight)}function l(){e.beginPath();e.moveTo(o,i);e.lineTo(a,c);e.strokeStyle=s;e.lineWidth=f;e.stroke();e.closePath()}function v(e,n){r(n);switch(e){case"down":t=true;break;case"up":case"out":t=false;break;case"move":if(t){l()}break}}function r(e){o=a;i=c;a=e.clientX-n.offsetLeft;c=e.clientY-n.offsetTop}function h(e){s=e}function m(e){f=e}function g(){h("#000000");m(5)}function F(){h("#FFFFFF");m(7)}